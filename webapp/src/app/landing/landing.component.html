<main id="main">
    <div class="landing-header">

        <div class="top-header">
            <sbdl-landing-actions
                [resourceType]="resourceType">
            </sbdl-landing-actions>
        </div>

        <span>
            <h1 style="margin-left: .5em;">
                <ng-container [ngSwitch]="resourceType">
                    <img class="headerImage" *ngSwitchCase="'playlist'"  src="/assets/images/connections-playlist.png" aria-hidden="true">
                    <img class="headerImage" *ngSwitchCase="'instructional'"   src="/assets/images/instructional-resource.png" aria-hidden="true">
                    <img class="headerImage" *ngSwitchCase="'formative'" src="/assets/images/formative-strategy.png" aria-hidden="true">
                    <img class="headerImage" *ngSwitchCase="'accessibility'"  src="/assets/images/accessibility-strategy.png" aria-hidden="true">
                    <img class="headerImage" *ngSwitchCase="'professional'"  src="/assets/images/professional-learning.png" aria-hidden="true">
                    <img class="headerImage" *ngSwitchCase="'items'" src="/assets/images/iaip 1.png" aria-hidden="true">
                </ng-container>
                {{title}}
            </h1>
        </span>
    </div>

    <section class="landing-splits">

        <!-- The left hand side -->
        <div class="landing-card landing-card-left">
            <h5 style="margin-top: 2rem;">{{landingPage.taglineSection.header}}</h5>
            <div style="margin-bottom: 2em;"
                class="text-container"
                #textContainer>{{landingPage.taglineSection.description}}
            </div>

            <h3 style="margin-bottom: .5em;">How will they help me?</h3>
            <dynamic-html style="margin-left: -22px;" [content]="landingPage.howItHelpsSection.description"></dynamic-html>
        </div>

        <!-- The right hand side -->
        <div class="landing-card landing-card-right">
            <div *ngIf="youtubeVideoId.length > 0">
                <sbdl-able-player-float-ts class="video"
                    [youtubeVideoId]="youtubeVideoId">
                </sbdl-able-player-float-ts>  
            </div>  
            <div style="height: 350px;" *ngIf="youtubeVideoId.length === 0">

            </div>

            <div class="callToActionBackground">
                <h5>{{landingPage.callToActionSection.header}}</h5>

                <p>{{landingPage.callToActionSection.description}}</p>

                <div  *ngIf="landingPage.callToActionSection.version === 'textSearch'">
                    <!-- <p>Search text</p>
                    <p>professional</p>
                    <p>accessibility</p>
                    <p>formative</p> -->
                    <div>
                        <sbdl-text-field
                          isSmallerText="'true'"
                          (submit)="search({query: $event})"
                          style="font-style: italic;"
                          placeholder="{{landingPage.callToActionSection.promptText}}"      
                          fontAwesomeIcon="fa-search"
                          submitButtonAriaLabel="search resources">
                        </sbdl-text-field>               
                      </div> 
                      <p>              
                        <a style="margin-top: 10px;margin-bottom: 10px;" href="javascript:void(0)" (click)="onFilterResourcesClick()">{{landingPage.callToActionSection.browseLinkText}}</a>
                      </p>
                </div>
                

                <div  *ngIf="landingPage.callToActionSection.version === 'dropdownSearch'">
                    <div class="select-group">
                        <div class="select-control-group selectDDL">
                          <select class="select" [ngClass]="{'select-placeholder' : selectedSubject == ''}" [(ngModel)]="selectedSubject">
                            <option value="" disabled>Select a subject</option>
                            <option *ngFor="let s of subjects" value="{{s.code}}">
                              {{ s.fullName }}
                            </option>
                          </select>
                          <i class="far fa-chevron-square-down fa-lg select-icon"></i>
                        </div> 
                      </div>

                    <div class="select-group">
                        <div class="select-control-group selectDDL">
                            <select class="select" [ngClass]="{'select-placeholder' : selectedGrade == ''}" [(ngModel)]="selectedGrade">
                                <option value="" disabled>Select a grade</option>
                                <option *ngFor="let g of grades" value="{{g.code}}">
                                  {{ g.longName }}
                                </option>
                            </select>
                            <i class="far fa-chevron-square-down fa-lg select-icon"></i>
                        </div>
                    </div>


                    <sbdl-button  class="primary"
                        (click)="onFilterResourcesSubjectAndGradeClick()"> 
                      GO!
                    </sbdl-button>&nbsp;&nbsp;&nbsp;
                    <a href="javascript:void(0)" (click)="onFilterResourcesClick()">or browse all</a>
                </div>


                <div  *ngIf="resourceType === 'items'">
                    <div *ngIf="landingPage.callToActionSection.version === 'loginPrompt'">
                        <sbdl-button class="primary attachments-btn" (click)="login()">
                            &nbsp;&nbsp;&nbsp;&nbsp;LOG IN&nbsp;&nbsp;&nbsp;&nbsp;
                        </sbdl-button>
                    </div>
                    <div *ngIf="landingPage.callToActionSection.version === 'browseIAIP'">
                        <sbdl-button class="primary attachments-btn" (click)="openInterimItems()">
                            <i class="fas fa-badge-check"></i> VIEW INTERIM ITEMS
                        </sbdl-button>
                    </div>
                    <div *ngIf="landingPage.callToActionSection.version === 'noIAIP'">
                        <p>Access to the IAIP is available to approved K-12 educators in participating member states.</p>
                        <p>Unfortunately, you account has not been granted access. Please contact your district or state support if you have questions or believe this is an error</p>                        
                    </div>
                    <br>
                </div>
            </div>
        </div>
    </section>

    <hr/>

    <section class="landing-howcaniuse">
        <div class="watermarks">
            <img class="waterspot green" src="/assets/images/green-spot-2.png" aria-hidden="true">
            <img class="waterspot yellow" src="/assets/images/yellow-spot-6.png" aria-hidden="true">
        </div>

        <h3 style="margin-top:30px;margin-left: 150px;">
          <img src="/assets/images/vector-line.png"
               class="howCanIuse-Vector">
          <img src="/assets/images/vector-arrow.png" aria-hidden="true">
        </h3>

         <h3 style="max-width: 645px;
                margin-left: 191px;
                margin-top: -55px;">
            {{landingPage.howToUseSection.header}}
        </h3>

         <ul style="list-style-type: none;margin-left: 6rem;">
            <li *ngFor="let howUse of landingPage.howToUseSection.subSections; index as i;" 
                [ngClass]="{'yellowImage' : (i + 1) % 3 == 1,'greenImage' : (i + 1) % 3 == 2,'blueImage' : (i + 1) % 3 == 0}">
                <h5>{{howUse.title}}</h5>   
                <div class="text-container-2">
                    {{howUse.description}}
                </div>
            </li>
        </ul>

        <hr style="margin-top: 2em;"/>
    </section>
</main>

<aside class="right-margin">
    
    <img src={{landingPage.marketingGraphicUri}} aria-hidden="true">

    <div *ngIf="landingPage.diveDeeperSection && landingPage.diveDeeperSection.links.length > 0">

        <h5>Dive Deeper</h5>
        <p>
          {{landingPage.diveDeeperSection.description}}
        </p>
    
        <ul>
            <li *ngFor="let dd of landingPage.diveDeeperSection.links"
                style="margin-bottom: 5px;margin-left: -20px;">
                <a href={{dd.url}}
                    aria-label="Formative Assessment Process Flier (opens in a new window)"
                     target="_blank" #link>
                    <div class="type-info">
                        <span>{{dd.label}}</span>
                        <i class="far fa-file-pdf" aria-hidden="true"></i>
                    </div>
                </a>
            </li>
        </ul>
      </div>


      <div *ngIf="landingPage.sampleSections && landingPage.sampleSections.sampleResources.length > 0">
        <h5>Sample Playlists</h5>

        <p>
            {{landingPage.sampleSections.header}}
        </p>

        <!-- look at sbdl-playlist-resources for sample -->
        <ul style="list-style-type: none;padding-left: 0px;">
              <li *ngFor="let sp of landingPage.sampleSections.sampleResources"
                class="samplePlaylistLIItem">
                <a href="/resource/{{sp.id}}"
                    [attr.aria-label]="sp.title + ' (opens in a new window)'"
                    class="noUnderline"
                    target="_blank">
                    <div>
                        <div style="display: flex;
                                    justify-content: space-between;
                                    margin-top: .75em;">
                            <span style="max-width: 275px;">
                                {{sp.title}}
                            </span>
                            <ng-container [ngSwitch]="resourceType">
                                <i class="far fa-chart-network imageBug" *ngSwitchCase="'playlist'"aria-hidden="true"></i>
                                <sbdl-icon icon="steps" class="imageBug" *ngSwitchCase="'instructional'" aria-hidden="true"></sbdl-icon>
                                <sbdl-icon icon="strategies" class="imageBug" *ngSwitchCase="'formative'" aria-hidden="true"></sbdl-icon>
                                <i class="far fa-universal-access imageBug" *ngSwitchCase="'accessibility'" aria-hidden="true"></i>
                                <sbdl-icon icon="goal" class="imageBug" *ngSwitchCase="'professional'"  aria-hidden="true"></sbdl-icon>
                                <i class="fas fa-badge-check imageBug" *ngSwitchCase="'items'" aria-hidden="true"></i>
                            </ng-container>
                        </div>              
                        <p *ngIf="sp.detail && sp.detail.length > 0" class="sampleDetail">
                            {{sp.detail}}
                        </p>
                    </div>
                </a>
            </li>
        </ul>
    </div>
